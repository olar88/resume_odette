import { useEffect, useRef } from "react";

/** 簽名動畫 */
export default function SingAnimation() {
  const signSvgRef = useRef<SVGSVGElement>(null);

  useEffect(() => {
    if (!signSvgRef.current) return;

    // 取的所有 path
    const paths = signSvgRef.current.querySelectorAll("path");

    // 設定每個 path 初始狀態
    paths.forEach((path) => {
      // 路徑長度
      const length = path.getTotalLength();

      // 設定初始狀態 - 隱藏
      path.style.strokeDasharray = `${length}`;
      path.style.strokeDashoffset = `${length}`;
      path.style.fill = "transparent";
      path.style.stroke = "var(--primary)";
      path.style.strokeWidth = "1";
    });

    // 添加 path 動畫 (由左至右)
    paths.forEach((path, index) => {
      const length = path.getTotalLength();
      const delay = index * 800; // 每個字之間的 delay

      // 繪製邊框動畫
      path.animate([{ strokeDashoffset: length }, { strokeDashoffset: 0 }], {
        duration: 1200,
        fill: "forwards",
        easing: "ease-in-out",
        delay: delay,
      });

      // 繪製完添加填色動畫
      setTimeout(() => {
        path.animate([{ fill: "transparent" }, { fill: "var(--primary)" }], {
          duration: 500,
          fill: "forwards",
          easing: "ease-in-out",
        });
      }, delay + 1000);
    });
  }, []);

  return (
    <div>
      <svg
        ref={signSvgRef}
        width="72"
        height="51"
        viewBox="0 0 72 51"
        xmlns="http://www.w3.org/2000/svg"
        dangerouslySetInnerHTML={{
          __html: `
                  <path d="M10.84 41.48C8.33333 41.48 6.46667 40.5067 5.24 38.56C4.04 36.6133 3.49333 34.0267 3.6 30.8C2.66667 30.9067 1.89333 30.5867 1.28 29.84C0.693333 29.0933 0.4 28.04 0.4 26.68C0.4 25.32 0.746667 23.72 1.44 21.88C2.16 20.04 3.36 18.0667 5.04 15.96C5.92 14.8667 6.77333 13.88 7.6 13C8.42667 12.0933 9.24 11.2667 10.04 10.52C10.9467 9.02666 11.88 7.73333 12.84 6.64C13.8 5.54666 14.6 4.92 15.24 4.76C15.3733 4.73333 15.48 4.72 15.56 4.72C15.64 4.69333 15.7067 4.68 15.76 4.68C16 4.68 16.12 4.74667 16.12 4.88C16.12 4.98667 16.0533 5.10667 15.92 5.24C15.8133 5.34667 15.6933 5.42667 15.56 5.48C15.3733 5.53333 15.1067 5.74666 14.76 6.12C14.4133 6.49333 14.08 6.88 13.76 7.28C13.44 7.68 13.2 7.97333 13.04 8.16C14.24 7.30667 15.4133 6.69333 16.56 6.32C17.7333 5.94667 18.8533 5.76 19.92 5.76C21.52 5.76 23 6.10667 24.36 6.8C25.7467 7.49333 26.9467 8.4 27.96 9.52C28.9733 10.64 29.7733 11.8667 30.36 13.2C30.9467 14.5067 31.2533 15.8 31.28 17.08C31.36 19.48 31.04 21.8133 30.32 24.08C29.6267 26.32 28.68 28.4133 27.48 30.36C26.28 32.28 24.9333 33.9733 23.44 35.44C21.9733 36.9067 20.4933 38.0533 19 38.88C15.8533 40.6133 13.1333 41.48 10.84 41.48ZM12.28 40.2C13.16 40.2 14.1333 40.0267 15.2 39.68C16.2933 39.36 17.48 38.8533 18.76 38.16C20.3333 37.3067 21.7867 36.1333 23.12 34.64C24.4533 33.12 25.6133 31.4267 26.6 29.56C27.5867 27.6933 28.3333 25.7867 28.84 23.84C29.3467 21.8667 29.56 20 29.48 18.24C29.3467 15.7867 28.8267 13.72 27.92 12.04C27.0133 10.36 25.8267 9.08 24.36 8.2C22.92 7.32 21.3333 6.88 19.6 6.88C18.1867 6.88 16.72 7.18667 15.2 7.8C13.7067 8.41333 12.24 9.37333 10.8 10.68C9.17333 12.92 7.85333 15.6 6.84 18.72C5.85333 21.84 5.30667 25.2267 5.2 28.88C5.28 28.9067 5.36 28.92 5.44 28.92C5.54667 28.92 5.65333 28.92 5.76 28.92H6.2C6.6 28.92 6.74667 28.9733 6.64 29.08C6.16 29.48 5.70667 29.7733 5.28 29.96C5.33333 31.7733 5.6 33.4533 6.08 35C6.56 36.5733 7.30667 37.8267 8.32 38.76C9.33333 39.72 10.6533 40.2 12.28 40.2ZM3.6 29.4C3.89333 26.5467 4.46667 23.7333 5.32 20.96C6.2 18.16 7.21333 15.56 8.36 13.16C7.90667 13.6933 7.44 14.2667 6.96 14.88C6.50667 15.4667 6.05333 16.08 5.6 16.72C4.93333 17.6533 4.28 18.64 3.64 19.68C3.02667 20.72 2.52 21.76 2.12 22.8C1.72 23.84 1.52 24.84 1.52 25.8C1.52 26.6 1.69333 27.3333 2.04 28C2.22667 28.3467 2.45333 28.64 2.72 28.88C3.01333 29.0933 3.30667 29.2667 3.6 29.4Z" fill="black"/>
                  <path d="M29.36 36.88C28.72 36.88 28.24 36.6 27.92 36.04C27.6 35.5067 27.44 34.8267 27.44 34C27.44 33.4133 27.56 32.68 27.8 31.8C28.04 30.92 28.3733 30 28.8 29.04C29.2267 28.08 29.7067 27.1867 30.24 26.36C30.7733 25.5067 31.32 24.8267 31.88 24.32C32.4667 23.7867 33.04 23.52 33.6 23.52C34.0533 23.52 34.3733 23.6933 34.56 24.04C34.7733 24.36 34.88 24.7067 34.88 25.08C34.88 25.4 34.8133 25.6933 34.68 25.96C34.5733 26.2 34.4133 26.32 34.2 26.32C33.9867 26.32 33.8267 26.2267 33.72 26.04C33.64 25.8267 33.56 25.6133 33.48 25.4C33.4267 25.1867 33.28 25.08 33.04 25.08C32.56 25.08 32.08 25.3867 31.6 26C31.12 26.6133 30.68 27.3867 30.28 28.32C29.88 29.2533 29.56 30.2267 29.32 31.24C29.08 32.2267 28.96 33.1067 28.96 33.88C28.96 34.44 29.0267 34.88 29.16 35.2C29.32 35.5467 29.5733 35.72 29.92 35.72C30.3733 35.72 30.8267 35.44 31.28 34.88C31.76 34.2933 32.2267 33.5467 32.68 32.64C33.1333 31.7067 33.5467 30.7333 33.92 29.72C34.32 28.7067 34.6533 27.76 34.92 26.88C35.2133 25.9733 35.44 25.2533 35.6 24.72C35.8133 22.8533 36.0667 20.9733 36.36 19.08C36.68 17.1867 37.1467 15.3467 37.76 13.56C37.84 13.2667 37.96 13.0133 38.12 12.8C38.3067 12.5867 38.4933 12.48 38.68 12.48C38.8933 12.48 39.0667 12.6267 39.2 12.92C39.36 13.2133 39.44 13.5467 39.44 13.92C39.44 14.2133 39.3867 14.52 39.28 14.84C39.1733 15.16 39.04 15.5867 38.88 16.12C38.6933 16.76 38.4533 17.6133 38.16 18.68C37.8933 19.72 37.6133 20.9067 37.32 22.24C37.0267 23.5467 36.7733 24.9467 36.56 26.44C36.3733 27.9067 36.28 29.3733 36.28 30.84C36.28 31.96 36.36 32.7467 36.52 33.2C36.68 33.6533 36.8933 33.88 37.16 33.88C37.4533 33.88 37.7733 33.6933 38.12 33.32C38.4933 32.9467 38.8533 32.4933 39.2 31.96C39.5733 31.4267 39.9067 30.8933 40.2 30.36C40.4933 29.8 40.72 29.36 40.88 29.04C41.1733 28.4533 41.4 28.16 41.56 28.16C41.6667 28.16 41.72 28.28 41.72 28.52C41.72 28.7067 41.68 28.9067 41.6 29.12C41.44 29.4667 41.3333 29.7333 41.28 29.92C41.2267 30.08 41.16 30.24 41.08 30.4C41.0267 30.56 40.8933 30.8133 40.68 31.16C40.4933 31.48 40.2 31.92 39.8 32.48C39.4 33.0133 38.9467 33.5067 38.44 33.96C37.9333 34.3867 37.4267 34.6 36.92 34.6C36.4133 34.6 36.0267 34.3867 35.76 33.96C35.52 33.5333 35.36 32.9867 35.28 32.32C35.2267 31.6267 35.2 30.92 35.2 30.2C35.2 29.32 35.24 28.3867 35.32 27.4C35.1333 28.04 34.88 28.8 34.56 29.68C34.24 30.5333 33.88 31.4 33.48 32.28C33.08 33.16 32.6533 33.96 32.2 34.68C31.8267 35.2667 31.4133 35.7733 30.96 36.2C30.5067 36.6533 29.9733 36.88 29.36 36.88Z" fill="black"/>
                  <path d="M44.6 35.52C43.64 35.52 42.8 34.96 42.08 33.84C41.3867 32.6933 41.04 30.8933 41.04 28.44C41.04 26.84 41.24 25.56 41.64 24.6C42.04 23.6133 42.5333 22.8933 43.12 22.44C43.7067 21.9867 44.2667 21.76 44.8 21.76C45.3333 21.76 45.7867 21.9467 46.16 22.32C46.5333 22.6667 46.72 23.1733 46.72 23.84C46.72 24.48 46.5333 25.16 46.16 25.88C45.7867 26.5733 45.3333 27.2133 44.8 27.8C44.2933 28.36 43.7867 28.7333 43.28 28.92C43.1733 28.9733 43.04 29 42.88 29C42.7733 29 42.72 28.96 42.72 28.88C42.72 28.6667 42.9333 28.4267 43.36 28.16C43.8933 27.7867 44.4 27.2267 44.88 26.48C45.36 25.7067 45.6 25.0267 45.6 24.44C45.6 24.0933 45.52 23.8267 45.36 23.64C45.2 23.4267 45.0133 23.32 44.8 23.32C44.4 23.32 43.96 23.64 43.48 24.28C43.0267 24.8933 42.6933 25.96 42.48 27.48C42.4267 27.9067 42.3733 28.32 42.32 28.72C42.2933 29.0933 42.28 29.4667 42.28 29.84C42.28 31.3333 42.5067 32.5067 42.96 33.36C43.4133 34.1867 44.0133 34.6 44.76 34.6C45.4 34.6 46.12 34.2267 46.92 33.48C47.72 32.7067 48.5067 31.5067 49.28 29.88C49.4667 29.4533 49.68 29.24 49.92 29.24C50.08 29.24 50.16 29.3467 50.16 29.56C50.16 29.7467 50.1067 29.9467 50 30.16C49.3067 31.8667 48.4667 33.1867 47.48 34.12C46.4933 35.0533 45.5333 35.52 44.6 35.52Z" fill="black"/>
                  <path d="M51.52 41.4C51.2533 41.4 50.9733 41.2267 50.68 40.88C50.4133 40.56 50.16 40.1067 49.92 39.52C49.52 38.56 49.24 37.5467 49.08 36.48C48.92 35.44 48.84 34.3867 48.84 33.32C48.84 32.1467 48.92 31 49.08 29.88C49.24 28.76 49.4133 27.7467 49.6 26.84C49.7333 26.2 49.8933 25.52 50.08 24.8C50.2667 24.08 50.44 23.5067 50.6 23.08C50.44 23.1067 50.1867 23.2 49.84 23.36C49.4933 23.52 49.1333 23.68 48.76 23.84C48.4133 24 48.1067 24.08 47.84 24.08C47.44 24.08 47.24 23.8533 47.24 23.4C47.24 23.16 47.32 22.9467 47.48 22.76C47.6667 22.5733 47.8933 22.4267 48.16 22.32C48.6933 22.08 49.28 21.9067 49.92 21.8C50.56 21.6667 50.9867 21.5333 51.2 21.4L52.24 18.76C52.3467 18.4933 52.5333 18.0667 52.8 17.48C53.0933 16.8667 53.4267 16.2133 53.8 15.52C54.2 14.8267 54.5867 14.2 54.96 13.64C55.2533 13.2133 55.5333 12.88 55.8 12.64C56.0667 12.3733 56.36 12.24 56.68 12.24C57.16 12.24 57.4 12.4267 57.4 12.8C57.4 13.0133 57.3067 13.3333 57.12 13.76C56.96 14.1867 56.6533 14.7467 56.2 15.44C55.6933 16.24 55.1733 17.04 54.64 17.84C54.1333 18.6133 53.6933 19.4267 53.32 20.28C53.2933 20.3867 53.2267 20.56 53.12 20.8C53.04 21.0133 52.9733 21.1467 52.92 21.2L53.72 21.08C53.9333 21.0533 54.1733 21.04 54.44 21.04C54.7067 21.0133 55 21 55.32 21C55.7733 21 56.2 21.0267 56.6 21.08C57.0267 21.1067 57.3733 21.1733 57.64 21.28C57.7733 21.3333 57.8933 21.4 58 21.48C58.1333 21.5333 58.2 21.5867 58.2 21.64C58.2 21.7467 57.8533 21.8 57.16 21.8C56.76 21.8 56.1867 21.8667 55.44 22C54.72 22.1333 53.8933 22.3467 52.96 22.64C52.5067 22.7733 52.2 22.96 52.04 23.2C51.88 23.44 51.6667 24.0133 51.4 24.92C51 26.36 50.68 27.7467 50.44 29.08C50.2 30.3867 50.0133 31.72 49.88 33.08C49.8533 33.3467 49.8267 33.6267 49.8 33.92C49.8 34.2133 49.8 34.5333 49.8 34.88C49.8 35.7867 49.88 36.7333 50.04 37.72C50.2267 38.7067 50.4933 39.56 50.84 40.28C50.92 40.44 51 40.5867 51.08 40.72C51.1867 40.8533 51.3067 40.9467 51.44 41C51.6267 41.08 51.72 41.1733 51.72 41.28C51.72 41.36 51.6533 41.4 51.52 41.4Z" fill="black"/>
                  <path d="M58.52 41.4C58.2533 41.4 57.9733 41.2267 57.68 40.88C57.4133 40.56 57.16 40.1067 56.92 39.52C56.52 38.56 56.24 37.5467 56.08 36.48C55.92 35.44 55.84 34.3867 55.84 33.32C55.84 32.1467 55.92 31 56.08 29.88C56.24 28.76 56.4133 27.7467 56.6 26.84C56.7333 26.2 56.8933 25.52 57.08 24.8C57.2667 24.08 57.44 23.5067 57.6 23.08C57.44 23.1067 57.1867 23.2 56.84 23.36C56.4933 23.52 56.1333 23.68 55.76 23.84C55.4133 24 55.1067 24.08 54.84 24.08C54.44 24.08 54.24 23.8533 54.24 23.4C54.24 23.16 54.32 22.9467 54.48 22.76C54.6667 22.5733 54.8933 22.4267 55.16 22.32C55.6933 22.08 56.28 21.9067 56.92 21.8C57.56 21.6667 57.9867 21.5333 58.2 21.4L59.24 18.76C59.3467 18.4933 59.5333 18.0667 59.8 17.48C60.0933 16.8667 60.4267 16.2133 60.8 15.52C61.2 14.8267 61.5867 14.2 61.96 13.64C62.2533 13.2133 62.5333 12.88 62.8 12.64C63.0667 12.3733 63.36 12.24 63.68 12.24C64.16 12.24 64.4 12.4267 64.4 12.8C64.4 13.0133 64.3067 13.3333 64.12 13.76C63.96 14.1867 63.6533 14.7467 63.2 15.44C62.6933 16.24 62.1733 17.04 61.64 17.84C61.1333 18.6133 60.6933 19.4267 60.32 20.28C60.2933 20.3867 60.2267 20.56 60.12 20.8C60.04 21.0133 59.9733 21.1467 59.92 21.2L60.72 21.08C60.9333 21.0533 61.1733 21.04 61.44 21.04C61.7067 21.0133 62 21 62.32 21C62.7733 21 63.2 21.0267 63.6 21.08C64.0267 21.1067 64.3733 21.1733 64.64 21.28C64.7733 21.3333 64.8933 21.4 65 21.48C65.1333 21.5333 65.2 21.5867 65.2 21.64C65.2 21.7467 64.8533 21.8 64.16 21.8C63.76 21.8 63.1867 21.8667 62.44 22C61.72 22.1333 60.8933 22.3467 59.96 22.64C59.5067 22.7733 59.2 22.96 59.04 23.2C58.88 23.44 58.6667 24.0133 58.4 24.92C58 26.36 57.68 27.7467 57.44 29.08C57.2 30.3867 57.0133 31.72 56.88 33.08C56.8533 33.3467 56.8267 33.6267 56.8 33.92C56.8 34.2133 56.8 34.5333 56.8 34.88C56.8 35.7867 56.88 36.7333 57.04 37.72C57.2267 38.7067 57.4933 39.56 57.84 40.28C57.92 40.44 58 40.5867 58.08 40.72C58.1867 40.8533 58.3067 40.9467 58.44 41C58.6267 41.08 58.72 41.1733 58.72 41.28C58.72 41.36 58.6533 41.4 58.52 41.4Z" fill="black"/>
                  <path d="M65.6 35.52C64.64 35.52 63.8 34.96 63.08 33.84C62.3867 32.6933 62.04 30.8933 62.04 28.44C62.04 26.84 62.24 25.56 62.64 24.6C63.04 23.6133 63.5333 22.8933 64.12 22.44C64.7067 21.9867 65.2667 21.76 65.8 21.76C66.3333 21.76 66.7867 21.9467 67.16 22.32C67.5333 22.6667 67.72 23.1733 67.72 23.84C67.72 24.48 67.5333 25.16 67.16 25.88C66.7867 26.5733 66.3333 27.2133 65.8 27.8C65.2933 28.36 64.7867 28.7333 64.28 28.92C64.1733 28.9733 64.04 29 63.88 29C63.7733 29 63.72 28.96 63.72 28.88C63.72 28.6667 63.9333 28.4267 64.36 28.16C64.8933 27.7867 65.4 27.2267 65.88 26.48C66.36 25.7067 66.6 25.0267 66.6 24.44C66.6 24.0933 66.52 23.8267 66.36 23.64C66.2 23.4267 66.0133 23.32 65.8 23.32C65.4 23.32 64.96 23.64 64.48 24.28C64.0267 24.8933 63.6933 25.96 63.48 27.48C63.4267 27.9067 63.3733 28.32 63.32 28.72C63.2933 29.0933 63.28 29.4667 63.28 29.84C63.28 31.3333 63.5067 32.5067 63.96 33.36C64.4133 34.1867 65.0133 34.6 65.76 34.6C66.4 34.6 67.12 34.2267 67.92 33.48C68.72 32.7067 69.5067 31.5067 70.28 29.88C70.4667 29.4533 70.68 29.24 70.92 29.24C71.08 29.24 71.16 29.3467 71.16 29.56C71.16 29.7467 71.1067 29.9467 71 30.16C70.3067 31.8667 69.4667 33.1867 68.48 34.12C67.4933 35.0533 66.5333 35.52 65.6 35.52Z" fill="black"/>
                  `,
        }}
      />
    </div>
  );
}
